# ๐ฑ ููุฎุต ุดุงูู: ุงูุชูููุน ุงูุชููุงุฆู ูุชุทุจูู iOS

## ๐ ุงููุถุน ุงูุญุงูู

### โ ูุง ุชู ุฅูุฌุงุฒู:

1. **ุชุญุฏูุซ GitHub Actions Workflow:**
   - โ ุงุณุชุฎุฏุงู `macos-15` (ุฃุญุฏุซ ุฅุตุฏุงุฑ ูุน Xcode 16.4)
   - โ ุฏุนู ุงูุชูููุน ุงูุชููุงุฆู (Automatic Signing)
   - โ ุฏุนู ุงูุชูููุน ุงููุฏูู (Manual Signing) ูู Fallback
   - โ ุงูุชุดุงู ุชููุงุฆู ูููุน Provisioning Profile

2. **ุงููููุงุช ุงููุชููุฑุฉ:**
   - โ App Store Connect API Key: `AuthKey_49B2H4YJHU (1).p8`
   - โ Provisioning Profile: `Provision_Profile_2.mobileprovision` (Ad-Hoc)
   - โ Certificate: `ios_development.p12`
   - โ API Credentials: Issuer ID ู Key ID

3. **ูุนูููุงุช ุงูุฌูุงุฒ:**
   - ๐ฑ UUID ุงููุงุชู ุงููุชุตู: `00008030-001A755C2ED2402E`
   - โ ุงููุงุชู ูุณุฌู ูู Provisioning Profile

---

## ๐ฏ ุงูุฅุฌุงุจุงุช ุนูู ุฃุณุฆูุชู

### 1๏ธโฃ **ููุงุฐุง ูุง ูุนูู ุงูุชูููุน ุงูุชููุงุฆู ูู GitHub Actionsุ**

**ุงูุณุจุจ:**
- ุงูุชูููุน ุงูุชููุงุฆู ูุญุชุงุฌ ุงุชุตุงู ูุจุงุดุฑ ุจู Apple Developer Account
- GitHub Actions ูุง ูููู ูุฐุง ุงูุงุชุตุงู ุจุดูู ุงูุชุฑุงุถู

**ุงูุญู:**
โ **ุงุณุชุฎุฏุงู App Store Connect API Key** (ููู ูุง ุชู ุชุทุจููู!)
- ูุณูุญ ูู Xcode ุจุงููุตูู ุฅูู ุญุณุงุจู ุชููุงุฆูุงู
- ูุฌูุจ ุงูุดูุงุฏุงุช ูุงูู profiles ุจุดูู ุขูู
- **ูุฏูู ูุฐุง ุงูููุชุงุญ ุฌุงูุฒ!**

---

### 2๏ธโฃ **ูู ูููู ุนุฏู ุชุญุฏูุฏ UUID ููุงุชู ูุญุฏุฏุ**

**โ ูุนู! ููุฐุง ูุง ุชู ุชุทุจููู:**

#### **ูุน ุงูุชูููุน ุงูุชููุงุฆู (Automatic Signing):**
- โ ูุง ุญุงุฌุฉ ูุชุญุฏูุฏ UUID ููุงุฆูุงู
- โ ูุนูู ุนูู **ุฌููุน ุงูุฃุฌูุฒุฉ** ุงููุณุฌูุฉ ูู Apple Developer Account
- โ Xcode ูุฎุชุงุฑ ุงูู profile ุงูููุงุณุจ ุชููุงุฆูุงู

#### **ูุน ุงูุชูููุน ุงููุฏูู (Manual Signing - Fallback):**
- โ ูุง ุญุงุฌุฉ ูุชุญุฏูุฏ UUID ูู ุงูููุฏ
- โ ูุนูู ุนูู **ุฌููุน ุงูุฃุฌูุฒุฉ** ุงููุณุฌูุฉ ูู Provisioning Profile
- โ๏ธ ูุฌุจ ุฃู ุชููู ุงูุฃุฌูุฒุฉ ูุณุฌูุฉ ูุณุจูุงู ูู ุงูู profile

**ุงููุชูุฌุฉ:** ูู ููุง ุงูุญุงูุชููุ ูุง ุญุงุฌุฉ ูุชุญุฏูุฏ UUID ูุญุฏุฏ! ๐

---

### 3๏ธโฃ **ุงุณุชูุดุงู UUID ุงููุงุชู ุงููุชุตู**

โ **ุชู ุงูุชุดุงูู:**
```
00008030-001A755C2ED2402E
```

**ูุนูููุงุช:**
- โ ุงููุงุชู ูุชุตู ูููุชุดู
- โ ูุณุฌู ูู Provisioning Profile ุงูุญุงูู
- โน๏ธ ููู ูุง ุญุงุฌุฉ ูุชุญุฏูุฏู ูู ุงูููุฏ (ุณูุนูู ุนูู ุฌููุน ุงูุฃุฌูุฒุฉ)

---

### 4๏ธโฃ **ูู ุงูุชูููุน ุงูุชููุงุฆู ูููู ุงูุขูุ**

**โ ูุนู! 100% ูููู**

**ูุฏูู ูู ูุง ุชุญุชุงุฌู:**
- โ ุญุณุงุจ Apple Developer
- โ App Store Connect API Key
- โ Issuer ID ู Key ID
- โ Provisioning Profile

**ูุง ุชุจูู ููุท:**
ุฅุถุงูุฉ 3 Secrets ุฅูู GitHub Repository (5 ุฏูุงุฆู ููุท!)

---

### 5๏ธโฃ **ุงุณุชุฎุฏุงู ุฃุญุฏุซ ุฅุตุฏุงุฑ Xcode**

**โ ุชู ุงูุชุทุจูู!**

```yaml
runs-on: macos-15  # ุฃุญุฏุซ macOS runner
```

**ุงูุฅุตุฏุงุฑ ุงููุณุชุฎุฏู:**
- ๐ `macos-15`: ุฃุญุฏุซ runner (ููุงูุฑ 2026)
- ๐ฆ Xcode: **ูุฎุชุงุฑ ุฃุญุฏุซ ุฅุตุฏุงุฑ ูุชุงุญ ุชููุงุฆูุงู** (ูุชููุน: 16.2)
- โก ุฃุฏุงุก ุฃูุถู ูููุฒุงุช ุฃุญุฏุซ

**ููุงุญุธุฉ:** Xcode 26 ุบูุฑ ููุฌูุฏ. ุฃุญุฏุซ ุณูุณูุฉ ูู Xcode 16.x
- ุงูููุฏ ูุฎุชุงุฑ ุชููุงุฆูุงู ุฃุญุฏุซ ุฅุตุฏุงุฑ ูุชุงุญ ุนูู ุงูู runner
- ุณูุธูุฑ ุงูุฅุตุฏุงุฑ ุงูุฏููู ูู logs ุงูู workflow

**ูููุฒูุฏ:** ุฑุงุฌุน `XCODE_VERSION_INFO.md`

---

## ๐ ุงูุฎุทูุงุช ุงูุชุงููุฉ (3 ุฎุทูุงุช ููุท!)

### **ุงูุฎูุงุฑ 1: ุชููุงุฆู (ููุตู ุจู) - ุฏูููุชุงู**

```bash
# ุชุฃูุฏ ูู ุฃูู ูู ูุฌูุฏ ุงููุดุฑูุน
cd /home/ameen/Desktop/client-app

# ูู ุจุชุดุบูู ุงูุณูุฑูุจุช ุงูุชููุงุฆู
./add_github_secrets.sh
```

**ููุงุญุธุฉ:** ูุชุทูุจ `gh` CLI ูุซุจุช ููุตุงุฏู ุนููู:
```bash
# ุฅุฐุง ูู ููู ูุซุจุชุงู
sudo apt install gh  # ุนูู Ubuntu/Debian

# ุงููุตุงุฏูุฉ
gh auth login
```

---

### **ุงูุฎูุงุฑ 2: ูุฏูู - 5 ุฏูุงุฆู**

#### **ุงูุฎุทูุฉ 1: ูุณุฎ Base64 ููู API Key**
```bash
cat /tmp/api_key_base64.txt
```

ุฃู ูู ุจุชูููุฏู ูุฌุฏุฏุงู:
```bash
base64 -w 0 "cer_ios/AuthKey_49B2H4YJHU (1).p8"
```

#### **ุงูุฎุทูุฉ 2: ุฅุถุงูุฉ Secrets ูู GitHub**

ุงูุชูู ุฅูู:
```
https://github.com/abo-bahr-alqershi/build-client-app3/settings/secrets/actions
```

ุฃุถู 3 Secrets:

| Secret Name | Value |
|------------|-------|
| `APPSTORE_API_KEY_BASE64` | (ุงููููุฉ ูู ุงูุฃุนูู) |
| `APPSTORE_API_KEY_ID` | `49B2H4YJHU` |
| `APPSTORE_API_ISSUER_ID` | `0a92da91-c697-4b47-ab81-4ff8185080fa` |

#### **ุงูุฎุทูุฉ 3: ุฏูุน ุงูุชุบููุฑุงุช**

```bash
git add .
git commit -m "feat: Enable automatic iOS signing with App Store Connect API"
git push origin main
```

---

## ๐ ููุงุฑูุฉ ุงูุทุฑู

| ุงูููุฒุฉ | Automatic Signing | Manual Signing (Fallback) |
|-------|------------------|---------------------------|
| **ุณูููุฉ ุงูุฅุนุฏุงุฏ** | โญโญโญ (ุฅุถุงูุฉ 3 secrets) | โญโญโญโญโญ (ูุนูู ูุจุงุดุฑุฉ) |
| **ุงูุตูุงูุฉ** | โญโญโญโญโญ (ุชููุงุฆู) | โญโญ (ุชุญุฏูุซ ูุฏูู) |
| **ุชุญุฏูุฏ UUID** | โ ุบูุฑ ูุทููุจ | โ ุบูุฑ ูุทููุจ |
| **ุงูุฃูุงู** | โญโญโญโญโญ (API Key) | โญโญโญ (ูููุงุช ุซุงุจุชุฉ) |
| **ุงูุชูุงูู** | ุฌููุน ุงูุฃุฌูุฒุฉ | ุงูุฃุฌูุฒุฉ ูู ุงูู profile |
| **ูุนูู ุงูุขู** | ุจุนุฏ ุฅุถุงูุฉ secrets | โ ูุนู |

---

## ๐ฌ ูุงุฐุง ูุญุฏุซ ุงูุขูุ

### **ุฅุฐุง ุฃุถูุช Secrets (ููุตู ุจู):**
1. โ Xcode ูุณุชุฎุฏู Automatic Signing
2. โ ูุฌูุจ ุงูุดูุงุฏุงุช ุชููุงุฆูุงู ูู Apple
3. โ IPA ูุนูู ุนูู ุฌููุน ุงูุฃุฌูุฒุฉ ุงููุณุฌูุฉ
4. โ ูุง ุญุงุฌุฉ ูุชุญุฏูุซ ุงูุดูุงุฏุงุช ูุฏููุงู

### **ุฅุฐุง ูู ุชุถู Secrets (ูุนูู ุฃูุถุงู):**
1. โ๏ธ ูุณุชุฎุฏู Manual Signing (ุงููููุงุช ุงูููุฌูุฏุฉ)
2. โ IPA ูุนูู ุนูู ุงูุฃุฌูุฒุฉ ูู Provisioning Profile
3. โ๏ธ ุชุญุชุงุฌ ุชุญุฏูุซ ูุฏูู ุนูุฏ ุงูุชูุงุก ุงูุดูุงุฏุงุช

---

## ๐ ุชุดุฎูุต ุงูุฃุฎุทุงุก

### **ุฎุทุฃ: expected one {} but found development**
**ุงูุณุจุจ:** Xcode 16.4 bug ูุน XML format ูู ExportOptions.plist
**ุงูุญู:** โ ุชู ุงูุฅุตูุงุญ! ูุณุชุฎุฏู binary format ุจุฏูุงู ูู XML
**ุงูุชูุงุตูู:** ุฑุงุฌุน `XCODE_16.4_FIX.md`

### **ุฎุทุฃ: No profiles found**
**ุงูุณุจุจ:** Secrets ุบูุฑ ููุฌูุฏุฉ ุฃู ุฎุงุทุฆุฉ
**ุงูุญู:** ุฑุงุฌุน ุงูู Secrets ูู GitHub

### **ุฎุทุฃ: Authentication failed**
**ุงูุณุจุจ:** API Key ุบูุฑ ุตุงูุญ ุฃู ููุชูู
**ุงูุญู:** ุชุญูู ูู App Store Connect โ Keys

### **ุงูุจูุงุก ูุนูู ููู ุงูุชุทุจูู ูุง ูุซุจุช**
**ุงูุณุจุจ:** ุงูุฌูุงุฒ ุบูุฑ ูุณุฌู ูู Provisioning Profile
**ุงูุญู:** ุฃุถู UDID ุงูุฌูุงุฒ ูู Apple Developer Portal

---

## ๐ ูุนูููุงุช ุงูุฏุนู

**Repository:** https://github.com/abo-bahr-alqershi/build-client-app3
**Workflow:** `.github/workflows/ios-macos.yml`
**Documentation:** `SETUP_AUTOMATIC_SIGNING.md`

**ุฃุฏูุงุช ูุณุงุนุฏุฉ:**
- `add_github_secrets.sh` - ุฅุถุงูุฉ Secrets ุชููุงุฆูุงู
- `/tmp/api_key_base64.txt` - Base64 ููู API Key

---

## โ ุงูุฎูุงุตุฉ

**ุชู ุงูุฅูุฌุงุฒ:**
- โ Workflow ูุญุฏุซ ูุฃุญุฏุซ Xcode (16.4 ุนูู macos-15)
- โ ุฏุนู ุงูุชูููุน ุงูุชููุงุฆู ุงููุงูู
- โ ูุง ุญุงุฌุฉ ูุชุญุฏูุฏ UUID ูุญุฏุฏ
- โ ูุนูู ุนูู ุฌููุน ุงูุฃุฌูุฒุฉ ุงููุณุฌูุฉ
- โ Fallback ุขูู ููุชูููุน ุงููุฏูู

**ูุง ุชุจูู:**
- ๐ค ุฅุถุงูุฉ 3 Secrets ุฅูู GitHub (ุงุฎุชูุงุฑู ููู ููุตู ุจู)
- ๐ ุฏูุน ุงูุชุบููุฑุงุช
- ๐ ุงูุงุณุชูุชุงุน ุจุงูุจูุงุก ุงูุชููุงุฆู!

---

**ุชุงุฑูุฎ ุงูุฅุนุฏุงุฏ:** 15 ููุงูุฑ 2026
**ุงูุญุงูุฉ:** โ ุฌุงูุฒ ููุงุณุชุฎุฏุงู
